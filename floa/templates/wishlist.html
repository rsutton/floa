{% extends 'base.html' %}

{% block header %}
<h1 align="center">{% block title %}My Library of America - Wish List{% endblock %}</h1>
{% endblock %}

{% block content %}
<script>
    "use strict";
    $(document).ready(function() {
        $('input[type=button]').click(function(e){
            var checkId = $(this).prop('id')
            var url = $SCRIPT_ROOT + "/_reset/" + checkId;
            $.ajax({
                url: url,
                success: function(){location.reload()}
            });
        });
    });
</script>
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th style="text-align:center" scope="col">Vol</th>
                <th scope="col">Title</th>
                <th style="text-align:right" scope="col">{{ list|count }} items</th>
            </tr>
        </thead>
        <tbody>
        {% for book in list %}
            {% if book['want'] == 1 %}
            <tr>
                <td style="text-align:center">{{ book['id'] }}</td>
                <th scope="row"><a href={{ book['link'] }}>{{ book['title'] }}</a></th>
                <td style="text-align:right"><input id={{ book['id'] }} class="btn btn-danger" type="button" value="Remove"></td>
            </tr>
            {% endif %}
        {% endfor %}
        </tbody>
    </table>
{% endblock %}